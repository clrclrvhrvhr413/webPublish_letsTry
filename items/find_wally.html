<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<title>wally circle</title>
	<style type="text/css">
		*{margin: 0; padding: 0;}
		#wallywrap {
			position: fixed;
			width: 100%; height: 100%;
			background: #444;
		}
		#wallywrap .clip {
			background: url('./img/wallybg.jpg');
			background-size: 50%;
			width: 100%; height: 100%;
			clip-path: circle(0px at 0 0);
			cursor: none;
		}
	</style>
</head>
<body>
	<div id="wallywrap">
		<div class="clip"></div>
	</div>

	<script>
		$('#wallywrap').mousemove(function(e){
			var posX = parseInt(e.clientX), posY = parseInt(e.clientY);
			$('#wallywrap .clip').css({
					'clip-path':`circle(70px at ${posX}px ${posY}px)`,
					'transition':'none'
				});

			$(this).click(function(){
				$('#wallywrap .clip').css({
					'clip-path':`circle(40px at ${posX}px ${posY}px)`,
					'transition':'clip-path .3s'
				});
				setTimeout(function(){
					$('#wallywrap .clip').css({
						'clip-path':`circle(70px at ${posX}px ${posY}px)`,
						'transition':'clip-path .4s'
					});
				},330);
			});
		})
	</script>
</body>
</html>
